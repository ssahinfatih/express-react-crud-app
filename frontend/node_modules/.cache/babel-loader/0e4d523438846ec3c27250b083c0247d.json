{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Fatih\\\\Desktop\\\\express-react-crud\\\\frontend\\\\src\\\\pages\\\\addedit\\\\AddEdit.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport \"./addedit.css\";\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  name: \"\",\n  email: \"\",\n  country: \"\",\n  contact: \"\"\n};\nexport const AddEdit = () => {\n  _s();\n\n  const [data, setData] = useState(initialState);\n  const {\n    name,\n    email,\n    country,\n    contact\n  } = data;\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (id) {\n      getSingleUser(id);\n    }\n  }, [id]);\n\n  const getSingleUser = async id => {\n    const res = await axios.get(`http://localhost:5000/users/${id}`);\n\n    if (res.status === 200) {\n      setData({ ...res.data\n      });\n    }\n  };\n\n  const createUser = async data => {\n    const res = await axios.post(\"http://localhost:5000/users\", data);\n\n    if (res.status === 200) {\n      toast.success(res.data);\n    }\n  };\n\n  const updateUser = async (data, id) => {\n    const res = await axios.put(`http://localhost:5000/users/${id}`, data);\n\n    if (res.status === 200) {\n      toast.success(res.data);\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (!name || !email || !country || !contact) {\n      toast.error(\"please fill all the fields\");\n      return;\n    }\n\n    if (!id) {\n      createUser(data);\n      window.reload;\n    } else {\n      updateUser(data, id);\n    }\n\n    navigate(\"/\");\n  };\n\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setData({ ...data,\n      [name]: value\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: \" Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"name\",\n          name: \"name\",\n          placeholder: \"Enter a name:\",\n          onChange: handleInputChange,\n          value: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \" E-mail\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"email\",\n          name: \"email\",\n          placeholder: \"Enter a email:\",\n          onChange: handleInputChange,\n          value: email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"country\",\n          children: \" Country\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"country\",\n          name: \"country\",\n          placeholder: \"Enter a country:\",\n          onChange: handleInputChange,\n          value: country\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"contact\",\n          children: \" Contact\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"contact\",\n          name: \"contact\",\n          placeholder: \"Enter a contact:\",\n          onChange: handleInputChange,\n          value: contact\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: id ? \"Update\" : \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AddEdit, \"5eNrmR54Ji8ODnhjDdSxGpyt5yQ=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = AddEdit;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddEdit\");","map":{"version":3,"names":["axios","useState","toast","useNavigate","useParams","useEffect","initialState","name","email","country","contact","AddEdit","data","setData","id","navigate","getSingleUser","res","get","status","createUser","post","success","updateUser","put","handleSubmit","e","preventDefault","error","window","reload","handleInputChange","value","target"],"sources":["C:/Users/Fatih/Desktop/express-react-crud/frontend/src/pages/addedit/AddEdit.jsx"],"sourcesContent":["import axios from \"axios\"\r\nimport { useState } from \"react\"\r\nimport \"./addedit.css\"\r\nimport {toast} from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst initialState = {\r\n    name: \"\",\r\n    email: \"\",\r\n    country:\"\",\r\n    contact:\"\",\r\n}\r\n\r\nexport const AddEdit = () => {\r\n    const[data, setData]=useState(initialState) \r\n    const {name,email,country,contact}= data\r\n    const {id} = useParams()\r\n    const navigate = useNavigate()\r\n    useEffect(()=>{\r\n        if(id){\r\n            getSingleUser(id)\r\n        }\r\n    },[id])\r\n\r\n    const getSingleUser = async(id)=>{\r\n        const res= await axios.get(`http://localhost:5000/users/${id}`)\r\n        if(res.status === 200){\r\n            setData({...res.data})\r\n        }\r\n    }\r\n\r\n    const createUser = async(data)=>{\r\n        const res= await axios.post(\"http://localhost:5000/users\",data)\r\n        if(res.status === 200){\r\n            toast.success(res.data)\r\n        }\r\n    }\r\n    const updateUser = async(data,id)=>{\r\n        const res= await axios.put(`http://localhost:5000/users/${id}`,data)\r\n        if(res.status === 200){\r\n            toast.success(res.data)\r\n        }\r\n    }\r\nconst handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    if(!name || !email || !country || !contact){\r\n        toast.error(\"please fill all the fields\")       \r\n        return\r\n    }\r\n    if(!id){\r\n        createUser(data)\r\n        window.reload\r\n    }\r\n    else{\r\n        updateUser(data,id)\r\n    }\r\n    navigate(\"/\")\r\n    \r\n}\r\n\r\nconst handleInputChange = (e)=>{\r\n    const {name, value}= e.target\r\n    setData({...data, [name]:value})\r\n}\r\n  return (\r\n    <div>\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n            <label htmlFor=\"name\"> Name</label>\r\n            <input type=\"text\" \r\n            id=\"name\" \r\n            name=\"name\" \r\n            placeholder=\"Enter a name:\"\r\n            onChange={handleInputChange}\r\n            value={name}\r\n            ></input>\r\n            </div>\r\n            <div>\r\n            <label htmlFor=\"email\"> E-mail</label>\r\n            <input type=\"email\" \r\n            id=\"email\" \r\n            name=\"email\" \r\n            placeholder=\"Enter a email:\"\r\n            onChange={handleInputChange}\r\n            value={email}\r\n            ></input>\r\n            </div>\r\n            <div>\r\n            <label htmlFor=\"country\"> Country</label>\r\n            <input type=\"text\" \r\n            id=\"country\" \r\n            name=\"country\" \r\n            placeholder=\"Enter a country:\"\r\n            onChange={handleInputChange}\r\n            value={country}\r\n            ></input>\r\n            </div>\r\n            <div>\r\n            <label htmlFor=\"contact\"> Contact</label>\r\n            <input type=\"text\" \r\n            id=\"contact\" \r\n            name=\"contact\" \r\n            placeholder=\"Enter a contact:\"\r\n            onChange={handleInputChange}\r\n            value={contact}\r\n            ></input>\r\n            </div>\r\n            <input type=\"submit\" value={id ? \"Update\" : \"Add\"}></input>\r\n        </form>\r\n    </div>\r\n    \r\n    \r\n  )\r\n}\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAO,eAAP;AACA,SAAQC,KAAR,QAAoB,gBAApB;AACA,OAAO,uCAAP;AACA,SAASC,WAAT,EAAsBC,SAAtB,QAAuC,kBAAvC;AACA,SAASC,SAAT,QAA0B,OAA1B;;AAEA,MAAMC,YAAY,GAAG;EACjBC,IAAI,EAAE,EADW;EAEjBC,KAAK,EAAE,EAFU;EAGjBC,OAAO,EAAC,EAHS;EAIjBC,OAAO,EAAC;AAJS,CAArB;AAOA,OAAO,MAAMC,OAAO,GAAG,MAAM;EAAA;;EACzB,MAAK,CAACC,IAAD,EAAOC,OAAP,IAAgBZ,QAAQ,CAACK,YAAD,CAA7B;EACA,MAAM;IAACC,IAAD;IAAMC,KAAN;IAAYC,OAAZ;IAAoBC;EAApB,IAA8BE,IAApC;EACA,MAAM;IAACE;EAAD,IAAOV,SAAS,EAAtB;EACA,MAAMW,QAAQ,GAAGZ,WAAW,EAA5B;EACAE,SAAS,CAAC,MAAI;IACV,IAAGS,EAAH,EAAM;MACFE,aAAa,CAACF,EAAD,CAAb;IACH;EACJ,CAJQ,EAIP,CAACA,EAAD,CAJO,CAAT;;EAMA,MAAME,aAAa,GAAG,MAAMF,EAAN,IAAW;IAC7B,MAAMG,GAAG,GAAE,MAAMjB,KAAK,CAACkB,GAAN,CAAW,+BAA8BJ,EAAG,EAA5C,CAAjB;;IACA,IAAGG,GAAG,CAACE,MAAJ,KAAe,GAAlB,EAAsB;MAClBN,OAAO,CAAC,EAAC,GAAGI,GAAG,CAACL;MAAR,CAAD,CAAP;IACH;EACJ,CALD;;EAOA,MAAMQ,UAAU,GAAG,MAAMR,IAAN,IAAa;IAC5B,MAAMK,GAAG,GAAE,MAAMjB,KAAK,CAACqB,IAAN,CAAW,6BAAX,EAAyCT,IAAzC,CAAjB;;IACA,IAAGK,GAAG,CAACE,MAAJ,KAAe,GAAlB,EAAsB;MAClBjB,KAAK,CAACoB,OAAN,CAAcL,GAAG,CAACL,IAAlB;IACH;EACJ,CALD;;EAMA,MAAMW,UAAU,GAAG,OAAMX,IAAN,EAAWE,EAAX,KAAgB;IAC/B,MAAMG,GAAG,GAAE,MAAMjB,KAAK,CAACwB,GAAN,CAAW,+BAA8BV,EAAG,EAA5C,EAA8CF,IAA9C,CAAjB;;IACA,IAAGK,GAAG,CAACE,MAAJ,KAAe,GAAlB,EAAsB;MAClBjB,KAAK,CAACoB,OAAN,CAAcL,GAAG,CAACL,IAAlB;IACH;EACJ,CALD;;EAMJ,MAAMa,YAAY,GAAIC,CAAD,IAAO;IACxBA,CAAC,CAACC,cAAF;;IACA,IAAG,CAACpB,IAAD,IAAS,CAACC,KAAV,IAAmB,CAACC,OAApB,IAA+B,CAACC,OAAnC,EAA2C;MACvCR,KAAK,CAAC0B,KAAN,CAAY,4BAAZ;MACA;IACH;;IACD,IAAG,CAACd,EAAJ,EAAO;MACHM,UAAU,CAACR,IAAD,CAAV;MACAiB,MAAM,CAACC,MAAP;IACH,CAHD,MAII;MACAP,UAAU,CAACX,IAAD,EAAME,EAAN,CAAV;IACH;;IACDC,QAAQ,CAAC,GAAD,CAAR;EAEH,CAfD;;EAiBA,MAAMgB,iBAAiB,GAAIL,CAAD,IAAK;IAC3B,MAAM;MAACnB,IAAD;MAAOyB;IAAP,IAAeN,CAAC,CAACO,MAAvB;IACApB,OAAO,CAAC,EAAC,GAAGD,IAAJ;MAAU,CAACL,IAAD,GAAOyB;IAAjB,CAAD,CAAP;EACH,CAHD;;EAIE,oBACE;IAAA,uBACI;MAAM,QAAQ,EAAEP,YAAhB;MAAA,wBACI;QAAA,wBACA;UAAO,OAAO,EAAC,MAAf;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADA,eAEA;UAAO,IAAI,EAAC,MAAZ;UACA,EAAE,EAAC,MADH;UAEA,IAAI,EAAC,MAFL;UAGA,WAAW,EAAC,eAHZ;UAIA,QAAQ,EAAEM,iBAJV;UAKA,KAAK,EAAExB;QALP;UAAA;UAAA;UAAA;QAAA,QAFA;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAWI;QAAA,wBACA;UAAO,OAAO,EAAC,OAAf;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADA,eAEA;UAAO,IAAI,EAAC,OAAZ;UACA,EAAE,EAAC,OADH;UAEA,IAAI,EAAC,OAFL;UAGA,WAAW,EAAC,gBAHZ;UAIA,QAAQ,EAAEwB,iBAJV;UAKA,KAAK,EAAEvB;QALP;UAAA;UAAA;UAAA;QAAA,QAFA;MAAA;QAAA;QAAA;QAAA;MAAA,QAXJ,eAqBI;QAAA,wBACA;UAAO,OAAO,EAAC,SAAf;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADA,eAEA;UAAO,IAAI,EAAC,MAAZ;UACA,EAAE,EAAC,SADH;UAEA,IAAI,EAAC,SAFL;UAGA,WAAW,EAAC,kBAHZ;UAIA,QAAQ,EAAEuB,iBAJV;UAKA,KAAK,EAAEtB;QALP;UAAA;UAAA;UAAA;QAAA,QAFA;MAAA;QAAA;QAAA;QAAA;MAAA,QArBJ,eA+BI;QAAA,wBACA;UAAO,OAAO,EAAC,SAAf;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADA,eAEA;UAAO,IAAI,EAAC,MAAZ;UACA,EAAE,EAAC,SADH;UAEA,IAAI,EAAC,SAFL;UAGA,WAAW,EAAC,kBAHZ;UAIA,QAAQ,EAAEsB,iBAJV;UAKA,KAAK,EAAErB;QALP;UAAA;UAAA;UAAA;QAAA,QAFA;MAAA;QAAA;QAAA;QAAA;MAAA,QA/BJ,eAyCI;QAAO,IAAI,EAAC,QAAZ;QAAqB,KAAK,EAAEI,EAAE,GAAG,QAAH,GAAc;MAA5C;QAAA;QAAA;QAAA;MAAA,QAzCJ;IAAA;MAAA;MAAA;MAAA;IAAA;EADJ;IAAA;IAAA;IAAA;EAAA,QADF;AAiDD,CApGM;;GAAMH,O;UAGIP,S,EACID,W;;;KAJRQ,O"},"metadata":{},"sourceType":"module"}