{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Fatih\\\\Desktop\\\\express-react-crud\\\\frontend\\\\src\\\\pages\\\\addedit\\\\AddEdit.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport \"./addedit.css\";\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  name: \"\",\n  email: \"\",\n  country: \"\",\n  contact: \"\"\n};\nexport const AddEdit = () => {\n  _s();\n\n  const [data, setData] = useState(initialState);\n  const {\n    name,\n    email,\n    country,\n    contact\n  } = data;\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n\n  const createUser = async data => {\n    const res = await axios.post(\"http://localhost:5000/users\", data);\n\n    if (res.status === 200) {\n      toast.success(res.data);\n    }\n  };\n\n  const updateUser = async id => {\n    const res = await axios.put(`http://localhost:5000/users/${id}`, data);\n\n    if (res.status === 200) {\n      toast.success(res.data);\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (!name || !email || !country || !contact) {\n      toast.error(\"please fill all the fields\");\n      return;\n    }\n\n    if (!id) {\n      createUser(data);\n    } else {\n      updateUser;\n    }\n\n    navigate(\"/\");\n  };\n\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setData({ ...data,\n      [name]: value\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: \" Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"name\",\n          name: \"name\",\n          placeholder: \"Enter a name:\",\n          onChange: handleInputChange,\n          value: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \" E-mail\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"email\",\n          name: \"email\",\n          placeholder: \"Enter a email:\",\n          onChange: handleInputChange,\n          value: email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"country\",\n          children: \" Country\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"country\",\n          name: \"country\",\n          placeholder: \"Enter a country:\",\n          onChange: handleInputChange,\n          value: country\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"contact\",\n          children: \" Contact\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"contact\",\n          name: \"contact\",\n          placeholder: \"Enter a contact:\",\n          onChange: handleInputChange,\n          value: contact\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        value: \"Add\",\n        children: \"ADD\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AddEdit, \"4KuoYXlW1GbRg1NuWOCpKaVH8Ak=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = AddEdit;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddEdit\");","map":{"version":3,"names":["axios","useState","toast","useNavigate","useParams","initialState","name","email","country","contact","AddEdit","data","setData","id","navigate","createUser","res","post","status","success","updateUser","put","handleSubmit","e","preventDefault","error","handleInputChange","value","target"],"sources":["C:/Users/Fatih/Desktop/express-react-crud/frontend/src/pages/addedit/AddEdit.jsx"],"sourcesContent":["import axios from \"axios\"\r\nimport { useState } from \"react\"\r\nimport \"./addedit.css\"\r\nimport {toast} from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\n\r\nconst initialState = {\r\n    name: \"\",\r\n    email: \"\",\r\n    country:\"\",\r\n    contact:\"\",\r\n}\r\nexport const AddEdit = () => {\r\n    const[data, setData]=useState(initialState) \r\n    const {name,email,country,contact}= data\r\n    const {id} = useParams()\r\n    const navigate = useNavigate()\r\n\r\n    const createUser = async(data)=>{\r\n        const res= await axios.post(\"http://localhost:5000/users\",data)\r\n        if(res.status === 200){\r\n            toast.success(res.data)\r\n        }\r\n    }\r\n    const updateUser = async(id)=>{\r\n        const res= await axios.put(`http://localhost:5000/users/${id}`,data)\r\n        if(res.status === 200){\r\n            toast.success(res.data)\r\n        }\r\n    }\r\nconst handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    if(!name|| !email|| !country|| !contact){\r\n        toast.error(\"please fill all the fields\")       \r\n        return\r\n    }\r\n    if(!id){\r\n        createUser(data)\r\n    }\r\n    else{\r\n        updateUser\r\n    }\r\n    navigate(\"/\")\r\n   \r\n}\r\n\r\nconst handleInputChange = (e)=>{\r\n    const {name, value}= e.target\r\n    setData({...data, [name]:value})\r\n}\r\n  return (\r\n    <div>\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n            <label htmlFor=\"name\"> Name</label>\r\n            <input type=\"text\" \r\n            id=\"name\" \r\n            name=\"name\" \r\n            placeholder=\"Enter a name:\"\r\n            onChange={handleInputChange}\r\n            value={name}\r\n            ></input>\r\n            </div>\r\n            <div>\r\n            <label htmlFor=\"email\"> E-mail</label>\r\n            <input type=\"email\" \r\n            id=\"email\" \r\n            name=\"email\" \r\n            placeholder=\"Enter a email:\"\r\n            onChange={handleInputChange}\r\n            value={email}\r\n            ></input>\r\n            </div>\r\n            <div>\r\n            <label htmlFor=\"country\"> Country</label>\r\n            <input type=\"text\" \r\n            id=\"country\" \r\n            name=\"country\" \r\n            placeholder=\"Enter a country:\"\r\n            onChange={handleInputChange}\r\n            value={country}\r\n            ></input>\r\n            </div>\r\n            <div>\r\n            <label htmlFor=\"contact\"> Contact</label>\r\n            <input type=\"text\" \r\n            id=\"contact\" \r\n            name=\"contact\" \r\n            placeholder=\"Enter a contact:\"\r\n            onChange={handleInputChange}\r\n            value={contact}\r\n            ></input>\r\n            </div>\r\n            <button type=\"submit\" value=\"Add\">ADD</button>\r\n        </form>\r\n    </div>\r\n    \r\n    \r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}